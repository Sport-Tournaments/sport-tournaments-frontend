@import "tailwindcss";

/* Simplified globals for Tailwind CSS 4 compatibility */
:root {
  color-scheme: light;
  --color-primary: #208090;
    --color-primary-hover: #1a6575;
    --color-primary-light: #e0f2f4;
    --color-secondary: #5e5240;
    --color-secondary-hover: #4a4133;
    --color-text: #134252;
    --color-text-light: #5a7a8a;
    --color-text-muted: #8ba5b5;
    --color-background: #fdfcf9;
    --color-background-alt: #f5f4f1;
    --color-surface: #ffffff;
    --color-border: #d1d5db;
    --color-border-light: #e5e7eb;
    --color-success: #20908f;
    --color-success-light: #d1faf5;
    --color-error: #c01528;
    --color-error-light: #fee2e2;
    --color-warning: #a84b2f;
    --color-warning-light: #fef3c7;
    --color-info: #3b82f6;
    --color-info-light: #dbeafe;
    --font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
    --radius-sm: 0.25rem;
    --radius-md: 0.375rem;
    --radius-lg: 0.5rem;
    --radius-xl: 0.75rem;
    --radius-2xl: 1rem;
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  }

  @media (prefers-color-scheme: dark) {
    :root {
      color-scheme: dark;
      --color-primary: #32b8c6;
      --color-primary-hover: #2da4b2;
      --color-primary-light: #1a3a40;
      --color-secondary: #a8a090;
      --color-secondary-hover: #c8c0b0;
      --color-text: #f5f5f5;
      --color-text-light: #d1d5db;
      --color-text-muted: #9ca3af;
      --color-background: #111827;
      --color-background-alt: #1f2937;
      --color-surface: #1f2937;
      --color-border: #374151;
      --color-border-light: #4b5563;
      --color-success: #32b8c6;
      --color-success-light: #064e3b;
      --color-error: #ff5459;
      --color-error-light: #7f1d1d;
      --color-warning: #e6817f;
      --color-warning-light: #78350f;
      --color-info: #60a5fa;
      --color-info-light: #1e3a5f;
    }
  }
}

@layer base {
  html {
    @apply scroll-smooth antialiased;
  }

  body {
    @apply bg-[var(--color-background)] text-[var(--color-text)] font-[var(--font-sans)] transition-colors duration-200;
  }

  h1 {
    @apply text-3xl font-bold tracking-tight sm:text-4xl;
  }

  h2 {
    @apply text-2xl font-semibold tracking-tight sm:text-3xl;
  }

  h3 {
    @apply text-xl font-semibold tracking-tight sm:text-2xl;
  }

  h4 {
    @apply text-lg font-semibold sm:text-xl;
  }

  h5 {
    @apply text-base font-medium sm:text-lg;
  }

  a {
    @apply text-[var(--color-primary)] hover:text-[var(--color-primary-hover)] transition-colors;
  }

  button {
    @apply transition-all duration-200;
  }

  input, select, textarea {
    @apply transition-all duration-200;
  }

  ::selection {
    @apply bg-[var(--color-primary)] text-white;
  }
}

@layer components {
  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn bg-[var(--color-primary)] text-white hover:bg-[var(--color-primary-hover)] focus:ring-[var(--color-primary)];
  }

  .btn-secondary {
    @apply btn bg-[var(--color-surface)] border border-[var(--color-border)] text-[var(--color-text)] hover:bg-[var(--color-background-alt)] focus:ring-[var(--color-primary)];
  }

  .btn-outline {
    @apply btn border-2 border-[var(--color-primary)] text-[var(--color-primary)] hover:bg-[var(--color-primary)] hover:text-white focus:ring-[var(--color-primary)];
  }

  .btn-ghost {
    @apply btn text-[var(--color-text)] hover:bg-[var(--color-background-alt)] focus:ring-[var(--color-primary)];
  }

  .btn-danger {
    @apply btn bg-[var(--color-error)] text-white hover:bg-[var(--color-error)]/90 focus:ring-[var(--color-error)];
  }

  .btn-success {
    @apply btn bg-[var(--color-success)] text-white hover:bg-[var(--color-success)]/90 focus:ring-[var(--color-success)];
  }

  .btn-sm {
    @apply px-3 py-1.5 text-xs;
  }

  .btn-lg {
    @apply px-6 py-3 text-base;
  }

  .btn-xl {
    @apply px-8 py-4 text-lg;
  }

  .btn-icon {
    @apply p-2.5 aspect-square;
  }

  /* Cards */
  .card {
    @apply rounded-xl border border-[var(--color-border)] bg-[var(--color-surface)] p-6 shadow-[var(--shadow-sm)] transition-shadow hover:shadow-[var(--shadow-md)];
  }

  .card-hover {
    @apply card cursor-pointer hover:border-[var(--color-primary)]/50;
  }

  .card-flat {
    @apply rounded-xl bg-[var(--color-surface)] p-6;
  }

  /* Form Elements */
  .input {
    @apply w-full rounded-lg border border-[var(--color-border)] bg-[var(--color-surface)] px-4 py-2.5 text-[var(--color-text)] placeholder:text-[var(--color-text-muted)] focus:border-[var(--color-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]/20 disabled:bg-[var(--color-background-alt)] disabled:cursor-not-allowed;
  }

  .input-error {
    @apply input border-[var(--color-error)] focus:border-[var(--color-error)] focus:ring-[var(--color-error)]/20;
  }

  .input-group {
    @apply relative;
  }

  .input-icon-left {
    @apply input pl-10;
  }

  .input-icon-right {
    @apply input pr-10;
  }

  .select {
    @apply input appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20fill%3D%22none%22%20stroke%3D%22%23343e4e%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M2%205l6%206%206-6%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1rem_1rem] bg-[right_0.75rem_center] bg-no-repeat pr-10;
  }

  .textarea {
    @apply input min-h-[100px] resize-y;
  }

  .label {
    @apply block text-sm font-medium text-[var(--color-text)] mb-1.5;
  }

  .label-required::after {
    content: " *";
    @apply text-[var(--color-error)];
  }

  .helper-text {
    @apply mt-1.5 text-sm text-[var(--color-text-muted)];
  }

  .error-text {
    @apply mt-1.5 text-sm text-[var(--color-error)];
  }

  /* Checkbox & Radio */
  .checkbox {
    @apply h-4 w-4 rounded border-[var(--color-border)] text-[var(--color-primary)] focus:ring-[var(--color-primary)] focus:ring-offset-0;
  }

  .radio {
    @apply h-4 w-4 border-[var(--color-border)] text-[var(--color-primary)] focus:ring-[var(--color-primary)] focus:ring-offset-0;
  }

  /* Badges */
  .badge {
    @apply inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-medium;
  }

  .badge-primary {
    @apply badge bg-[var(--color-primary-light)] text-[var(--color-primary)];
  }

  .badge-success {
    @apply badge bg-[var(--color-success-light)] text-[var(--color-success)];
  }

  .badge-error {
    @apply badge bg-[var(--color-error-light)] text-[var(--color-error)];
  }

  .badge-warning {
    @apply badge bg-[var(--color-warning-light)] text-[var(--color-warning)];
  }

  .badge-info {
    @apply badge bg-[var(--color-info-light)] text-[var(--color-info)];
  }

  .badge-neutral {
    @apply badge bg-[var(--color-background-alt)] text-[var(--color-text-light)];
  }

  /* Tables */
  .table-container {
    @apply overflow-x-auto rounded-lg border border-[var(--color-border)];
  }

  .table {
    @apply w-full border-collapse text-sm;
  }

  .table-header {
    @apply bg-[var(--color-background-alt)] text-left text-xs font-medium uppercase tracking-wider text-[var(--color-text-muted)];
  }

  .table-header th {
    @apply px-4 py-3;
  }

  .table-row {
    @apply border-t border-[var(--color-border)] hover:bg-[var(--color-background-alt)] transition-colors;
  }

  .table-row td {
    @apply px-4 py-3;
  }

  /* Pagination */
  .pagination {
    @apply flex items-center justify-center gap-1;
  }

  .pagination-button {
    @apply flex h-9 min-w-9 items-center justify-center rounded-lg border border-[var(--color-border)] text-sm font-medium transition-all hover:bg-[var(--color-background-alt)] disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .pagination-button-active {
    @apply pagination-button bg-[var(--color-primary)] border-[var(--color-primary)] text-white hover:bg-[var(--color-primary-hover)];
  }

  /* Alerts */
  .alert {
    @apply flex items-start gap-3 rounded-lg p-4;
  }

  .alert-success {
    @apply alert bg-[var(--color-success-light)] text-[var(--color-success)];
  }

  .alert-error {
    @apply alert bg-[var(--color-error-light)] text-[var(--color-error)];
  }

  .alert-warning {
    @apply alert bg-[var(--color-warning-light)] text-[var(--color-warning)];
  }

  .alert-info {
    @apply alert bg-[var(--color-info-light)] text-[var(--color-info)];
  }

  /* Modal */
  .modal-overlay {
    @apply fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm;
  }

  .modal-content {
    @apply relative max-h-[90vh] w-full max-w-md overflow-y-auto rounded-2xl bg-[var(--color-surface)] p-6 shadow-xl;
  }

  .modal-lg {
    @apply max-w-2xl;
  }

  .modal-xl {
    @apply max-w-4xl;
  }

  /* Navigation */
  .nav-link {
    @apply flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium text-[var(--color-text-light)] transition-colors hover:bg-[var(--color-background-alt)] hover:text-[var(--color-text)];
  }

  .nav-link-active {
    @apply nav-link bg-[var(--color-primary-light)] text-[var(--color-primary)] hover:bg-[var(--color-primary-light)];
  }

  /* Dropdown */
  .dropdown {
    @apply absolute z-20 mt-2 min-w-[180px] rounded-lg border border-[var(--color-border)] bg-[var(--color-surface)] py-1 shadow-lg;
  }

  .dropdown-item {
    @apply flex w-full items-center gap-2 px-4 py-2 text-sm text-[var(--color-text)] hover:bg-[var(--color-background-alt)] transition-colors;
  }

  /* Tabs */
  .tabs {
    @apply flex gap-1 border-b border-[var(--color-border)];
  }

  .tab {
    @apply px-4 py-2.5 text-sm font-medium text-[var(--color-text-light)] border-b-2 border-transparent transition-all hover:text-[var(--color-text)] -mb-px;
  }

  .tab-active {
    @apply tab text-[var(--color-primary)] border-[var(--color-primary)];
  }

  /* Avatar */
  .avatar {
    @apply inline-flex items-center justify-center rounded-full bg-[var(--color-primary-light)] text-[var(--color-primary)] font-medium;
  }

  .avatar-sm {
    @apply avatar h-8 w-8 text-xs;
  }

  .avatar-md {
    @apply avatar h-10 w-10 text-sm;
  }

  .avatar-lg {
    @apply avatar h-12 w-12 text-base;
  }

  .avatar-xl {
    @apply avatar h-16 w-16 text-lg;
  }

  /* Skeleton */
  .skeleton {
    @apply animate-pulse rounded bg-[var(--color-border)];
  }

  /* Divider */
  .divider {
    @apply h-px w-full bg-[var(--color-border)];
  }

  .divider-vertical {
    @apply w-px h-full bg-[var(--color-border)];
  }

  /* Container */
  .container-app {
    @apply mx-auto max-w-7xl px-4 sm:px-6 lg:px-8;
  }

  /* Page */
  .page-header {
    @apply mb-8;
  }

  .page-title {
    @apply text-2xl font-bold text-[var(--color-text)] sm:text-3xl;
  }

  .page-description {
    @apply mt-2 text-[var(--color-text-light)];
  }

  /* Stats */
  .stat-card {
    @apply card flex flex-col;
  }

  .stat-value {
    @apply text-2xl font-bold text-[var(--color-text)] sm:text-3xl;
  }

  .stat-label {
    @apply text-sm text-[var(--color-text-muted)];
  }

  .stat-change {
    @apply mt-1 flex items-center gap-1 text-sm;
  }

  .stat-change-positive {
    @apply stat-change text-[var(--color-success)];
  }

  .stat-change-negative {
    @apply stat-change text-[var(--color-error)];
  }

  /* Empty State */
  .empty-state {
    @apply flex flex-col items-center justify-center py-12 text-center;
  }

  .empty-state-icon {
    @apply mb-4 h-16 w-16 text-[var(--color-text-muted)];
  }

  .empty-state-title {
    @apply text-lg font-medium text-[var(--color-text)];
  }

  .empty-state-description {
    @apply mt-1 text-sm text-[var(--color-text-muted)];
  }

  /* Tooltip */
  .tooltip {
    @apply absolute z-50 rounded-lg bg-[var(--color-text)] px-3 py-1.5 text-xs text-white shadow-lg;
  }

  /* Progress */
  .progress-bar {
    @apply h-2 w-full overflow-hidden rounded-full bg-[var(--color-border)];
  }

  .progress-value {
    @apply h-full rounded-full bg-[var(--color-primary)] transition-all duration-500;
  }

  /* Switch/Toggle */
  .switch {
    @apply relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent bg-[var(--color-border)] transition-colors focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:ring-offset-2;
  }

  .switch-checked {
    @apply switch bg-[var(--color-primary)];
  }

  .switch-thumb {
    @apply pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform transition-transform;
  }

  /* Filter Pills */
  .filter-pill {
    @apply inline-flex items-center gap-1.5 rounded-full border border-[var(--color-border)] px-3 py-1.5 text-sm font-medium transition-all hover:border-[var(--color-primary)] hover:bg-[var(--color-primary-light)];
  }

  .filter-pill-active {
    @apply filter-pill border-[var(--color-primary)] bg-[var(--color-primary-light)] text-[var(--color-primary)];
  }

  /* Search Input */
  .search-input {
    @apply input-icon-left;
  }
}

@layer utilities {
  .truncate-lines-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-lines-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-lines-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .backdrop-blur-xs {
    backdrop-filter: blur(2px);
  }

  .safe-area-inset {
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
    padding-top: max(1rem, env(safe-area-inset-top));
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }

  .text-balance {
    text-wrap: balance;
  }

  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .focus-visible-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-primary)] focus-visible:ring-offset-2;
  }

  .gradient-primary {
    @apply bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-success)];
  }

  .gradient-text {
    @apply bg-clip-text text-transparent gradient-primary;
  }
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { 
    opacity: 0; 
    transform: translateY(10px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

@keyframes slideDown {
  from { 
    opacity: 0; 
    transform: translateY(-10px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

@keyframes scaleIn {
  from { 
    opacity: 0; 
    transform: scale(0.95); 
  }
  to { 
    opacity: 1; 
    transform: scale(1); 
  }
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.animate-fadeIn {
  animation: fadeIn 0.2s ease-out;
}

.animate-slideUp {
  animation: slideUp 0.3s ease-out;
}

.animate-slideDown {
  animation: slideDown 0.3s ease-out;
}

.animate-scaleIn {
  animation: scaleIn 0.2s ease-out;
}

.animate-spin-slow {
  animation: spin 2s linear infinite;
}
